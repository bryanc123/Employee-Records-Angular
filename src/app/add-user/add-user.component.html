<a routerLink="/" class="back-button">Back to Home</a>
<div class="note">
    <strong>Note:</strong> You cannot proceed through each section until all of the section's inputs are valid
</div>
<div class="success-container">
    <div *ngIf="success" class="success">
        {{userAdded}} successfully added to database!
        <i class="fa fa-times" (click)="closeSuccessMessage()"></i>
    </div>
</div>
<div class="formContainer" [@fadeIn]>
    <h2>Add Employee Record</h2>

    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <mat-stepper orientation="vertical" [linear]="true" formArrayName="formArray" #stepper>
            <mat-step formGroupName="0" [stepControl]="formArray.get([0])">
                <ng-template matStepLabel>Name</ng-template>
                <mat-form-field appearance="fill">
                    <mat-label>Name</mat-label>
                    <input matInput placeholder="Name" formControlName="name" required>
                    <mat-error *ngIf="nameFormControl.errors?.required">Name is required</mat-error>
                    <mat-error *ngIf="nameFormControl.errors?.pattern">Name is invalid</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Username</mat-label>
                    <input matInput placeholder="Username" formControlName="username" required>
                    <mat-error *ngIf="usernameFormControl.errors?.required">Username is required</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Email</mat-label>
                    <input matInput placeholder="Email" formControlName="email" required>
                    <mat-error *ngIf="emailFormControl.errors?.required">Email is required</mat-error>
                </mat-form-field>
                <div>
                    <button mat-button matStepperNext type="button" [disabled]="!nameFormGroup.valid">Next</button>
                </div>
            </mat-step>
            <mat-step formGroupName="1" [stepControl]="formArray.get([1])">
                <ng-template matStepLabel>Address</ng-template>
                <mat-form-field appearance="fill">
                    <mat-label>Street</mat-label>
                    <input matInput placeholder="Street" formControlName="street" required>
                    <mat-error *ngIf="streetFormControl.errors?.required">Street is required</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Suite</mat-label>
                    <input matInput placeholder="Suite" formControlName="suite" required>
                    <mat-error *ngIf="suiteFormControl.errors?.required">Suite is required</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>City</mat-label>
                    <input matInput placeholder="City" formControlName="city" required>
                    <mat-error *ngIf="cityFormControl.errors?.required">City is required</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>ZIP Code</mat-label>
                    <input matInput placeholder="e.g. 90001" formControlName="zipcode" required>
                    <mat-error *ngIf="zipcodeFormControl.errors?.required">ZIP code is required</mat-error>
                    <mat-error *ngIf="zipcodeFormControl.errors?.pattern">ZIP is invalid</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Latitude</mat-label>
                    <input matInput placeholder="e.g. 38.5816" formControlName="lat" required>
                    <mat-error *ngIf="latFormControl.errors?.required">Latitude is required</mat-error>
                    <mat-error *ngIf="latFormControl.errors?.pattern">Latitude is invalid</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Longitude</mat-label>
                    <input matInput placeholder="e.g. 121.4944" formControlName="lng" required>
                    <mat-error *ngIf="lngFormControl.errors?.required">Longitude is required</mat-error>
                    <mat-error *ngIf="lngFormControl.errors?.pattern">Longitude is invalid</mat-error>
                </mat-form-field>
                <div>
                    <button mat-button matStepperPrevious type="button">Previous</button>
                    <button mat-button matStepperNext type="button" [disabled]="!addressFormGroup.valid">Next</button>
                </div>
            </mat-step>
            <mat-step formGroupName="2" [stepControl]="formArray.get([2])">
                <ng-template matStepLabel>Contact Information</ng-template>
                <mat-form-field appearance="fill">
                    <mat-label>Phone Number</mat-label>
                    <input matInput placeholder="e.g. 8059341236" formControlName="phone" required>
                    <mat-error *ngIf="phoneFormControl.errors?.required">Phone number is required</mat-error>
                    <mat-error *ngIf="phoneFormControl.errors?.pattern">Phone number is invalid</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Website</mat-label>
                    <input matInput placeholder="Website" formControlName="website" required>
                    <mat-error *ngIf="websiteFormControl.errors?.required">Website is required</mat-error>
                </mat-form-field>
                <div>
                    <button mat-button matStepperPrevious type="button">Previous</button>
                    <button mat-button matStepperNext type="button" [disabled]="!contactFormGroup.valid">Next</button>
                </div>
            </mat-step>
            <mat-step formGroupName="3" [stepControl]="formArray.get([3])">
                <ng-template matStepLabel>Company</ng-template>
                <mat-form-field appearance="fill">
                    <mat-label>Company Name</mat-label>
                    <input matInput placeholder="Company Name" formControlName="name" required>
                    <mat-error *ngIf="companyNameFormControl.errors?.required">Company name is required</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Catchphrase</mat-label>
                    <input matInput placeholder="Catchphrase" formControlName="catchPhrase" required>
                    <mat-error *ngIf="catchPhraseFormControl.errors?.required">Catchphrase is required</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>BS</mat-label>
                    <input matInput placeholder="BS" formControlName="bs" required>
                    <mat-error *ngIf="bsFormControl.errors?.required">BS is required</mat-error>
                </mat-form-field>
                <div>
                    <button mat-button matStepperPrevious type="button">Previous</button>
                    <button mat-button matStepperNext type="button" [disabled]="!companyFormGroup.valid">Next</button>
                </div>
            </mat-step>
            <mat-step formGroupName="4" [stepControl]="formArray.get([4])">
                <ng-template matStepLabel>Press Submit to Finish</ng-template>
                <div>
                    <button mat-button matStepperPrevious type="button">Previous</button>
                    <button mat-button (click)="stepper.reset()" type="button">Reset</button>
                    <button mat-button type="submit">Submit</button>
                </div>
            </mat-step>
        </mat-stepper>
    </form>
</div>